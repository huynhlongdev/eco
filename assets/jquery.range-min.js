(function(t,i,s,o){"use strict";var e=function(){return this.init.apply(this,arguments)};e.prototype={defaults:{onstatechange:function(){},ondragend:function(){},onbarclicked:function(){},isRange:!1,showLabels:!0,showScale:!0,step:1,format:"%s",theme:"theme-green",width:300,disable:!1,snap:!1},template:'<div class="slider-container">			<div class="back-bar"><div class="selected-bar"></div><div class="pointer low"></div><div class="pointer high"></div></div><div class="scale fl f-jcsb"></div><div class="fl range-val"><div class="pointer-label low mr10">123456</div> - <div class="pointer-label high ml10">456789</div></div>		</div>',init:function(i2,s2){this.options=t.extend({},this.defaults,s2),this.inputNode=t(i2),this.options.value=this.inputNode.val()||(this.options.isRange?this.options.from+","+this.options.from:""+this.options.from),this.domNode=t(this.template),this.domNode.addClass(this.options.theme),this.inputNode.after(this.domNode),this.domNode.on("change",this.onChange),this.pointers=t(".pointer",this.domNode),this.lowPointer=this.pointers.first(),this.highPointer=this.pointers.last(),this.labels=t(".pointer-label",this.domNode),this.lowLabel=this.labels.first(),this.highLabel=this.labels.last(),this.scale=t(".scale",this.domNode),this.bar=t(".selected-bar",this.domNode),this.clickableBar=this.domNode.find(".clickable-dummy"),this.interval=this.options.to-this.options.from,this.render()},render:function(){this.inputNode.width()!==0||this.options.width?(this.options.width=this.options.width||this.inputNode.width(),this.domNode.width(this.options.width),this.inputNode.hide(),this.isSingle()&&(this.lowPointer.hide(),this.lowLabel.hide()),this.options.showLabels||this.labels.hide(),this.attachEvents(),this.options.showScale&&this.renderScale(),this.setValue(this.options.value)):console.log("jRange : no width found, returning")},isSingle:function(){return typeof this.options.value=="number"||this.options.value.indexOf(",")===-1&&!this.options.isRange},attachEvents:function(){this.clickableBar.click(t.proxy(this.barClicked,this)),this.pointers.on("mousedown touchstart",t.proxy(this.onDragStart,this)),this.pointers.bind("dragstart",function(t2){t2.preventDefault()})},onDragStart:function(i2){if(!(this.options.disable||i2.type==="mousedown"&&i2.which!==1)){i2.stopPropagation(),i2.preventDefault();var o2=t(i2.target);this.pointers.removeClass("last-active"),o2.addClass("focused last-active"),this[(o2.hasClass("low")?"low":"high")+"Label"].addClass("focused"),t(s).on("mousemove.slider touchmove.slider",t.proxy(this.onDrag,this,o2)),t(s).on("mouseup.slider touchend.slider touchcancel.slider",t.proxy(this.onDragEnd,this))}},onDrag:function(t2,i2){i2.stopPropagation(),i2.preventDefault(),i2.originalEvent.touches&&i2.originalEvent.touches.length?i2=i2.originalEvent.touches[0]:i2.originalEvent.changedTouches&&i2.originalEvent.changedTouches.length&&(i2=i2.originalEvent.changedTouches[0]);var s2=i2.clientX-this.domNode.offset().left;this.domNode.trigger("change",[this,t2,s2])},onDragEnd:function(i2){this.pointers.removeClass("focused").trigger("rangeslideend"),this.labels.removeClass("focused"),t(s).off(".slider"),this.options.ondragend.call(this,this.options.value)},barClicked:function(t2){if(!this.options.disable){var i2=t2.pageX-this.clickableBar.offset().left;if(this.isSingle())this.setPosition(this.pointers.last(),i2,!0,!0);else{var s2,o2=Math.abs(parseFloat(this.pointers.first().css("left"),10)),e2=this.pointers.first().width()/2,n=Math.abs(parseFloat(this.pointers.last().css("left"),10)),a=this.pointers.first().width()/2,h=Math.abs(o2-i2+e2),l=Math.abs(n-i2+a);s2=h==l?i2<o2?this.pointers.first():this.pointers.last():h<l?this.pointers.first():this.pointers.last(),this.setPosition(s2,i2,!0,!0)}this.options.onbarclicked.call(this,this.options.value)}},onChange:function(t2,i2,s2,o2){var e2,n;e2=0,n=i2.domNode.width(),i2.isSingle()||(e2=s2.hasClass("high")?parseFloat(i2.lowPointer.css("left"))+i2.lowPointer.width()/2:0,n=s2.hasClass("low")?parseFloat(i2.highPointer.css("left"))+i2.highPointer.width()/2:i2.domNode.width());var a=Math.min(Math.max(o2,e2),n);i2.setPosition(s2,a,!0)},setPosition:function(t2,i2,s2,o2){var e2,n=parseFloat(this.lowPointer.css("left")),a=parseFloat(this.highPointer.css("left"))||0,h=this.highPointer.width()/2;if(s2||(i2=this.prcToPx(i2)),this.options.snap){var l=this.correctPositionForSnap(i2);if(l===-1)return;i2=l}t2[0]===this.highPointer[0]?a=Math.round(i2-h):n=Math.round(i2-h),t2[o2?"animate":"css"]({left:Math.round(i2-h)}),this.isSingle()?e2=0:e2=n+h;var r=Math.round(a+h-e2);this.bar[o2?"animate":"css"]({width:Math.abs(r),left:r>0?e2:e2+r}),this.showPointerValue(t2,i2,o2),this.isReadonly()},correctPositionForSnap:function(t2){var i2=this.positionToValue(t2)-this.options.from,s2=this.options.width/(this.interval/this.options.step),o2=i2/this.options.step*s2;return t2<=o2+s2/2&&t2>=o2-s2/2?o2:-1},setValue:function(t2){var i2=t2.toString().split(",");i2[0]=Math.min(Math.max(i2[0],this.options.from),this.options.to)+"",i2.length>1&&(i2[1]=Math.min(Math.max(i2[1],this.options.from),this.options.to)+""),this.options.value=t2;var s2=this.valuesToPrc(i2.length===2?i2:[0,i2[0]]);this.isSingle()?this.setPosition(this.highPointer,s2[1]):(this.setPosition(this.lowPointer,s2[0]),this.setPosition(this.highPointer,s2[1]))},renderScale:function(){for(var t2=this.options.scale||[this.options.from,this.options.to],i2=(Math.round(100/(t2.length-1)*10),""),s2=0;s2<t2.length;s2++)i2+="<span>"+(t2[s2]!="|"?"<ins>"+t2[s2]+"</ins>":"")+"</span>";this.scale.html(i2)},getBarWidth:function(){var t2=this.options.value.split(",");return t2.length>1?parseFloat(t2[1])-parseFloat(t2[0]):parseFloat(t2[0])},showPointerValue:function(i2,s2,o2){var e2,n=t(".pointer-label",this.domNode)[i2.hasClass("low")?"first":"last"](),a=this.positionToValue(s2);if(t.isFunction(this.options.format)){var h=this.isSingle()?void 0:i2.hasClass("low")?"low":"high";e2=this.options.format(a,h)}else e2=this.options.format.replace("%s",a);var l=n.html(e2).width(),r=s2-l/2;r=Math.min(Math.max(r,0),this.options.width-l),n[o2?"animate":"css"]({left:r}),this.setInputValue(i2,a)},valuesToPrc:function(t2){return[100*(parseFloat(t2[0])-parseFloat(this.options.from))/this.interval,100*(parseFloat(t2[1])-parseFloat(this.options.from))/this.interval]},prcToPx:function(t2){return this.domNode.width()*t2/100},isDecimal:function(){return(this.options.value+this.options.from+this.options.to).indexOf(".")!==-1},positionToValue:function(t2){var i2=t2/this.domNode.width()*this.interval;if(i2=parseFloat(i2,10)+parseFloat(this.options.from,10),this.isDecimal()){var s2=Math.round(Math.round(i2/this.options.step)*this.options.step*100)/100;if(s2!==0)for((s2=""+s2).indexOf(".")===-1&&(s2+=".");s2.length-s2.indexOf(".")<3;)s2+="0";else s2="0.00";return s2}return Math.round(i2/this.options.step)*this.options.step},setInputValue:function(t2,i2){if(this.isSingle())this.options.value=i2.toString();else{var s2=this.options.value.split(",");t2.hasClass("low")?this.options.value=i2+","+s2[1]:this.options.value=s2[0]+","+i2}this.inputNode.val()!==this.options.value&&(this.inputNode.val(this.options.value).trigger("change"),this.options.onstatechange.call(this,this.options.value))},getValue:function(){return this.options.value},getOptions:function(){return this.options},getRange:function(){return this.options.from+","+this.options.to},isReadonly:function(){this.domNode.toggleClass("slider-readonly",this.options.disable)},disable:function(){this.options.disable=!0,this.isReadonly()},enable:function(){this.options.disable=!1,this.isReadonly()},toggleDisable:function(){this.options.disable=!this.options.disable,this.isReadonly()},updateRange:function(t2,i2){var s2=t2.toString().split(",");this.interval=parseInt(s2[1])-parseInt(s2[0]),i2?this.setValue(i2):this.setValue(this.getValue())}},t.fn.jRange=function(s2){var o2,n=arguments;return this.each(function(){var a=t(this),h=t.data(this,"plugin_jRange"),l=typeof s2=="object"&&s2;h||(a.data("plugin_jRange",h=new e(this,l)),t(i).resize(function(){var t2=h.domNode.parent().width();h.options.width=t2,h.render(),h.setValue(h.getValue())})),typeof s2=="string"&&(o2=h[s2].apply(h,Array.prototype.slice.call(n,1)))}),o2||this}})(jQuery,window,document);
//# sourceMappingURL=/cdn/shop/t/29/assets/jquery.range-min.js.map?v=148011445143665677421687517444
